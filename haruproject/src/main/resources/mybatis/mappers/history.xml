<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="history">

	<!-- 히스토리 불러오기 -->
	<select id="selectHistory" parameterType="long" resultType="historyvo">
	SELECT log_no AS logNo,	log_date AS logDate, log_contents AS logContents, project_no AS ProjectNo
		FROM history
	 WHERE project_no = #{projectNo}
	 ORDER by log_no desc;
	</select>
	
	<!-- 히스토리 넣기 -->
	<insert id="insertHistory" parameterType="map">
		INSERT
		  INTO history (project_no, log_contents)
		VALUES (#{projectNo}, #{logContents});
	<selectKey resultType="long" keyProperty="logNo" order="AFTER">
		SELECT LAST_ INSERT_ID()
	</selectKey>
	</insert>
	
</mapper>